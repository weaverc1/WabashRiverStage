================================================================================
RIVER DISCHARGE CORRELATION ANALYSIS REPORT
================================================================================

Project: Wabash River Discharge Prediction Model
Upstream Site: TERI3 (Terre Haute, IN) - USGS 03341500
Downstream Site: RVTI3 (Riverton, IL) - USGS 03342000
Date: 2025-11-05
Author: Claude Code

NOTE: This analysis uses discharge data (cfs) rather than gage height
because gage height daily values were not available via USGS API for
these sites. Discharge provides an equally valid measure for correlation
analysis and flood forecasting. RVTI3 (Riverton) is used as the target
location as Hutsonville discharge data was not available.

================================================================================
1. DATA SUMMARY
================================================================================

Date Range:
  Start: 2010-01-01
  End: 2025-11-04
  Duration: 5786 days

Gauges:
  TERI3_discharge_cfs: 5,783 valid records (99.9% complete)
  RVTI3_discharge_cfs: 5,782 valid records (99.9% complete)

Discharge Statistics (cfs):
  TERI3:
    Min: 1,200 cfs
    Max: 120,000 cfs
    Mean: 12,358 cfs
    Median: 7,930 cfs
    Std Dev: 12,280 cfs

  RVTI3:
    Min: 1,450 cfs
    Max: 104,000 cfs
    Mean: 13,827 cfs
    Median: 9,015 cfs
    Std Dev: 13,148 cfs


================================================================================
2. CORRELATION ANALYSIS RESULTS
================================================================================

Maximum Correlation Coefficient: 0.9740
Optimal Lag Time: 1 days
Optimal Lag Time: ~24 hours

Interpretation:
  - Very strong positive correlation
  - The discharge at TERI3 (Terre Haute) is most predictive of
    RVTI3 (Riverton) discharge approximately 1 days later

Travel Time Analysis:
  - River travel time: 1 days (24 hours)
  - Distance: ~90 miles (Terre Haute to Riverton)
  - Average velocity: ~90.0 miles/day
                      ~3.75 mph


================================================================================
3. PRELIMINARY LINEAR REGRESSION MODEL
================================================================================

Model Equation:
  RVTI3_Discharge(t) = 934.6 + 1.0428 × TERI3_Discharge(t - 1 days)

Model Performance:
  R² (Coefficient of Determination): 0.9486
  RMSE (Root Mean Square Error): 2980 cfs
  Number of observations: 5,777

Interpretation:
  - The model explains 94.9% of the variance in RVTI3 discharge
  - Average prediction error: ±2980 cfs
  - For every 1,000 cfs increase in TERI3 discharge, RVTI3 discharge
    increases by approximately 1043 cfs

  - Note: Slope > 1 indicates downstream amplification

Residual Analysis:
  Mean residual: 0.0 cfs
  Std dev of residuals: 2980 cfs
  Min residual: -45272 cfs
  Max residual: 20252 cfs

  Normality test p-value: 0.0000
  - Residuals show deviation from normality

================================================================================
4. PERFORMANCE BY FLOW REGIME
================================================================================

     regime  stage_range  n_samples       r2         rmse         mae
   low_flow       0-5000       1671 0.252562   800.481627  755.844295
normal_flow   5000-20000       2776 0.917062  1188.102799  816.239394
  high_flow  20000-50000       1208 0.607003  4790.154535 3496.472793
 flood_flow 50000-200000        122 0.072237 12350.156781 9217.682254

Key Findings:
  - Best performance: normal_flow (R² = 0.9171)
  - Weakest performance: flood_flow (R² = 0.0722)


================================================================================
5. RECOMMENDATIONS FOR IMPROVEMENT
================================================================================

Model Enhancements:
  1. Add non-linear terms (polynomial, spline regression)
  2. Include additional predictors:
     - Discharge data (flow rate)
     - Rainfall/precipitation data
     - Seasonal factors
     - Antecedent conditions
  3. Develop regime-specific models (different equations per flow range)
  4. Consider machine learning approaches (Random Forest, Neural Networks)

Data Improvements:
  1. Use sub-daily data (hourly) for finer lag resolution
  2. Incorporate real-time data feeds
  3. Add intermediate gauges between Terre Haute and Hutsonville
  4. Include tributary contributions

Operational Considerations:
  1. Implement ensemble forecasting (multiple models)
  2. Add uncertainty quantification
  3. Develop automated alert system at critical thresholds
  4. Validate with independent test dataset
  5. Regular recalibration with new data


================================================================================
6. CONCLUSIONS
================================================================================

This preliminary analysis demonstrates a strong correlation (r = 0.974) between river discharge at Terre Haute (TERI3) and
Riverton (RVTI3) with a 1-day lag. The simple linear regression model
achieves an R² of 0.949 with RMSE of 2980 cfs.

Key Insights:
  - Prediction lead time: 1 days (~24 hours)
  - Model accuracy: 94.9% variance explained
  - Average error: ±2980 cfs
  - Best performance in normal flow conditions

The model provides a solid foundation for operational flood forecasting
along the Wabash River. The same methodology can be applied to Hutsonville
once discharge or gage height data becomes available. With the recommended
enhancements, forecast accuracy and lead time can be further improved.

================================================================================
END OF REPORT
================================================================================
